AWSTemplateFormatVersion: '2010-09-09'

Parameters:
  DynamoFormatMetadataName:
    Type: String
  DynamoFormatMetadataKey:
    Type: String
    
  DynamoFormatChangesMetadataName:
    Type: String
  DynamoFormatChangesMetadataKey:
    Type: String

  DynamoDataQualityLogsName:
    Type: String
  DynamoDataQualityLogsKey:
    Type: String

Resources:
  DynamoFormatMetadata:
    Type: AWS::DynamoDB::Table
    Properties:
      TableName: !Ref DynamoFormatMetadataName
      BillingMode: PAY_PER_REQUEST
      AttributeDefinitions:
      - AttributeName: !Ref DynamoFormatMetadataKey
        AttributeType: S
      - AttributeName: Status
        AttributeType: S
      - AttributeName: Tables
        AttributeType: S

      KeySchema:
      - AttributeName: !Ref DynamoFormatMetadataKey
        KeyType: HASH
      SSESpecification:
        SSEEnabled: true  

  DynamoFormatChangesMetadata:
    Type: AWS::DynamoDB::Table
    Properties:
      TableName: !Ref DynamoFormatChangesMetadataName
      BillingMode: PAY_PER_REQUEST
      AttributeDefinitions:
      - AttributeName: !Ref DynamoFormatChangesMetadataKey
        AttributeType: S
      KeySchema:
      - AttributeName: !Ref DynamoFormatChangesMetadataKey
        KeyType: HASH
      SSESpecification:
        SSEEnabled: true

  DynamoDataQualityMetadata:
    Type: AWS::DynamoDB::Table
    Properties:
      TableName: !Ref DynamoDataQualityLogsName
      BillingMode: PAY_PER_REQUEST
      AttributeDefinitions:
      - AttributeName: !Ref DynamoDataQualityLogsKey
        AttributeType: S
      KeySchema:
      - AttributeName: !Ref DynamoDataQualityLogsKey
        KeyType: HASH
      SSESpecification:
        SSEEnabled: true  